{"version":3,"file":"worker.test.mjs","sources":["../src/worker.test.ts"],"sourcesContent":["import {describe, expect, test} from '@jest/globals';\r\nimport worker from \"./worker\";\r\nimport {Env} from \"../bindings\"\r\n\r\ndeclare global {\r\n    function getMiniflareBindings(): Env;\r\n}\r\n\r\ndescribe('sum module', () => {\r\n    test('adds 1 + 2 to equal 3', async () => {\r\n        const req = new Request(\"http://localhost/abc=3\");\r\n        const env = getMiniflareBindings();\r\n        const ctx = new ExecutionContext();\r\n        var response = await worker.fetch(req, getMiniflareBindings(), ctx);\r\n\r\n        expect(await response.text()).toBe(\"set http://localhost/abc=3 with [], API_TOKEN=example_dev_token, SECRET_KEY=firdaus secret\");\r\n        // expect(await env.KV_FROM_FIRDAUS.get(\"abc\")).toBe(\"ff\");\r\n    });\r\n});"],"names":[],"mappings":";;;AAQA,QAAQ,CAAC,YAAY,EAAE,MAAK;AACxB,IAAA,IAAI,CAAC,uBAAuB,EAAE,YAAW;AACrC,QAAA,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC,wBAAwB,CAAC,CAAC;AAClD,QAAY,oBAAoB,GAAG;AACnC,QAAA,MAAM,GAAG,GAAG,IAAI,gBAAgB,EAAE,CAAC;AACnC,QAAA,IAAI,QAAQ,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,oBAAoB,EAAE,EAAE,GAAG,CAAC,CAAC;AAEpE,QAAA,MAAM,CAAC,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,4FAA4F,CAAC,CAAC;;AAErI,KAAC,CAAC,CAAC;AACP,CAAC,CAAC"}